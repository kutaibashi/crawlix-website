---
// Comparison section vs competitors
// Shows Crawlix advantages over Screaming Frog and Sitebulb
import { Check, X, Minus } from '@lucide/astro';

const comparisonFeatures = [
  {
    feature: "Privacy (data stays local)",
    crawlix: true,
    screamingFrog: true,
    sitebulb: "partial",
    tooltip: "Sitebulb has cloud sync options"
  },
  {
    feature: "AI search readiness checks",
    crawlix: true,
    screamingFrog: false,
    sitebulb: false,
    tooltip: "GPTBot, Claude-Bot, llms.txt auditing"
  },
  {
    feature: "100+ SEO checks",
    crawlix: true,
    screamingFrog: true,
    sitebulb: true,
    tooltip: null
  },
  {
    feature: "White-label reports",
    crawlix: true,
    screamingFrog: false,
    sitebulb: true,
    tooltip: null
  },
  {
    feature: "Modern dark UI",
    crawlix: true,
    screamingFrog: false,
    sitebulb: true,
    tooltip: null
  },
  {
    feature: "Perpetual license option",
    crawlix: true,
    screamingFrog: false,
    sitebulb: false,
    tooltip: "Pay once, own forever"
  },
  {
    feature: "Free tier available",
    crawlix: true,
    screamingFrog: "partial",
    sitebulb: "partial",
    tooltip: "Crawlix free tier has no time limits"
  },
  {
    feature: "Cross-platform (Win/Mac/Linux)",
    crawlix: true,
    screamingFrog: true,
    sitebulb: false,
    tooltip: "Sitebulb is Windows only"
  },
];

const renderIcon = (value: boolean | string) => {
  if (value === true) return { icon: Check, color: 'text-emerald-500' };
  if (value === false) return { icon: X, color: 'text-slate-600' };
  return { icon: Minus, color: 'text-amber-500' }; // partial
};
---

<section class="py-20 sm:py-32" id="comparison">
  <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <div class="text-center animate-on-scroll">
      <span class="inline-block text-sm font-semibold text-sky-400 uppercase tracking-wider mb-4">
        How We Compare
      </span>
      <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">
        Why teams choose Crawlix
      </h2>
      <p class="mt-4 text-lg text-slate-400 max-w-2xl mx-auto">
        See how Crawlix stacks up against industry alternatives
      </p>
    </div>

    <!-- Comparison Table -->
    <div class="mt-16 overflow-hidden rounded-2xl border border-slate-800 scale-in">
      <table class="w-full">
        <thead>
          <tr class="bg-[#0e2655]">
            <th class="px-6 py-4 text-left text-sm font-semibold text-slate-300">Feature</th>
            <th class="px-6 py-4 text-center">
              <div class="inline-flex flex-col items-center">
                <span class="text-sm font-bold text-sky-400">Crawlix</span>
              </div>
            </th>
            <th class="px-6 py-4 text-center">
              <div class="inline-flex flex-col items-center">
                <span class="text-sm font-medium text-slate-400">Screaming Frog</span>
              </div>
            </th>
            <th class="px-6 py-4 text-center">
              <div class="inline-flex flex-col items-center">
                <span class="text-sm font-medium text-slate-400">Sitebulb</span>
              </div>
            </th>
          </tr>
        </thead>
        <tbody class="divide-y divide-slate-800">
          {comparisonFeatures.map(({ feature, crawlix, screamingFrog, sitebulb, tooltip }, index) => {
            const crawlixIcon = renderIcon(crawlix);
            const sfIcon = renderIcon(screamingFrog);
            const sbIcon = renderIcon(sitebulb);

            return (
              <tr class={`${index % 2 === 0 ? 'bg-[#091a3d]' : 'bg-[#0a1d42]'} hover:bg-[#0e2655]/50 transition-colors`}>
                <td class="px-6 py-4">
                  <div class="flex items-center gap-2">
                    <span class="text-sm text-slate-300">{feature}</span>
                    {tooltip && (
                      <span class="group relative">
                        <svg class="h-4 w-4 text-slate-500 cursor-help" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 text-xs text-white bg-slate-800 rounded-lg shadow-lg z-10">
                          {tooltip}
                        </span>
                      </span>
                    )}
                  </div>
                </td>
                <td class="px-6 py-4 text-center">
                  <div class="inline-flex items-center justify-center h-8 w-8 rounded-full bg-sky-500/10">
                    <crawlixIcon.icon class={`h-5 w-5 ${crawlixIcon.color}`} />
                  </div>
                </td>
                <td class="px-6 py-4 text-center">
                  <sfIcon.icon class={`h-5 w-5 mx-auto ${sfIcon.color}`} />
                </td>
                <td class="px-6 py-4 text-center">
                  <sbIcon.icon class={`h-5 w-5 mx-auto ${sbIcon.color}`} />
                </td>
              </tr>
            );
          })}
        </tbody>
      </table>
    </div>

    <!-- CTA -->
    <div class="mt-12 text-center">
      <p class="text-slate-400 mb-4">Ready to see for yourself?</p>
      <a href="/download" class="inline-flex items-center gap-2 rounded-lg bg-sky-600 px-6 py-3 font-semibold text-white hover:bg-sky-500 transition-colors">
        Try Crawlix Free
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      </a>
    </div>
  </div>
</section>

<script>
  // Initialize animations
  document.addEventListener('DOMContentLoaded', () => {
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
        }
      });
    }, observerOptions);

    document.querySelectorAll('.animate-on-scroll, .scale-in').forEach(el => {
      observer.observe(el);
    });
  });
</script>
